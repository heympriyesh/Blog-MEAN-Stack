"use strict";(self.webpackChunkblogapp=self.webpackChunkblogapp||[]).push([[634],{4634:(It,w,s)=>{s.r(w),s.d(w,{MainModule:()=>Ut});var m=s(8583),c=s(4655),f=s(1365),A=s(5809),F=s(7069),r=s(3679),u=s(2340),O=s(8259),g=s.n(O),b=s(381),t=s(7716),p=s(9517),v=s(2680),h=s(954),C=s(1095),Z=s(6627);let J=(()=>{class n{constructor(e,o,l,a,d,_,x,M){this.modalService=o,this._fb=l,this.dialog=a,this.renderer=d,this.dataService=_,this.activatedRouter=x,this.router=M,this.htmlContent="",this.editorValue="",this.contentLoaded=!1,this.baseUrl=u.N.baseUrl,this.editorForm=this._fb.group({title:["",[r.kI.required]],description:["",r.kI.required],content:["",[r.kI.required]]})}ngOnInit(){this.id=this.activatedRouter.snapshot.paramMap.get("id"),this.activatedRouter.paramMap.subscribe(e=>{this.id=e.get("id"),console.log("id...",this.id)}),this.dataService.getSingleBlog(this.id).subscribe(e=>{console.log("res data..",e),this.data=e.data,this.editorForm.controls.title.patchValue(e.data.title),this.editorForm.controls.description.patchValue(e.data.description),this.editorValue=e.data.content,this.imageSrc=u.N.baseUrl+"/"+this.data.image})}saveEditor(){if(this.file){const e=new FormData;e.append("title",this.title),e.append("content",this.content),e.append("image",this.file),e.append("description",this.description),this.editorForm.valid&&this.dataService.updateBlog(e,this.id).subscribe(o=>{g().fire({position:"center",icon:"success",title:"Your Blog Published SuccessFully",showConfirmButton:!1,timer:1500}),this.router.navigate(["/read",o.post._id])})}else{let e={title:this.title,content:this.content,image:this.data.image,description:this.description};this.editorForm.valid&&this.dataService.updateBlog(e,this.id).subscribe(o=>{g().fire({position:"center",icon:"success",title:"Your Blog Published SuccessFully",showConfirmButton:!1,timer:1500}),this.router.navigate(["/read",o.post._id]),console.log("res value saved",o)})}}get title(){return this.editorForm.value.title}get content(){return this.editorForm.value.content}get description(){return this.editorForm.value.description}open(e){this.modalService.open(e)}openDialog(){this.dialog.open(b.au,{width:"100%",height:"auto",data:{title:this.title,content:this.content,thumbnailImage:this.imageSrc}}).afterClosed().subscribe(o=>{console.log("The dialog was closed")})}handleInputFile(e){console.log("file..")}uploadFile(e){let l=e.currentTarget.files;if(l){this.file=l[0];const a=new FileReader;a.onload=d=>this.imageSrc=a.result,a.readAsDataURL(this.file),console.log("FileUpload -> files",l)}}fireEvent(){let e=!1;return g().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>o.isConfirmed?(console.log("isConfirmed...!"),e=!0,e):(e=!1,!1)),e}resetBlog(){this.editorForm.reset(),this.file=void 0,this.imageSrc=void 0}canExit(){return!this.editorForm.dirty||!!confirm("Are you sure you want to leave")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.NM),t.Y36(p.FF),t.Y36(r.qu),t.Y36(v.uw),t.Y36(t.Qsj),t.Y36(h.D),t.Y36(c.gz),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editblog"]],decls:22,vars:4,consts:[[1,"editor_class"],[3,"formGroup"],["type","text","placeholder","Title","formControlName","title"],["formControlName","description","id","description","cols","30","rows","5","placeholder","Write Short description in 50 words.."],[1,"thumbnailImage","mt-2"],[1,"preview-image"],["id","image",3,"src"],["normal",""],["type","file","name","","accept","image/*","id","",3,"change"],["file","","normal",""],["mat-raised-button","","color","primary",1,"uploadFile",3,"click"],["inline","true",1,"color-white"],[1,"ck-editor-div","mb-4"],["formControlName","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","ngModelChange"],[1,"editor-buttons"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"form",1),t._UZ(2,"input",2),t._UZ(3,"textarea",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6,7),t.qZA(),t.TgZ(8,"input",8,9),t.NdJ("change",function(d){return o.uploadFile(d)}),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(l),t.MAs(9).click()})("click",function(){return t.CHM(l),t.MAs(7).click()}),t.TgZ(12,"mat-icon",11),t._uU(13,"file_upload"),t.qZA(),t._uU(14," Choos Thumbnail Image "),t.qZA(),t.qZA(),t.TgZ(15,"div",12),t.TgZ(16,"ck-editor",13),t.NdJ("ngModelChange",function(d){return o.editorValue=d}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.TgZ(18,"button",15),t.NdJ("click",function(){return o.saveEditor()}),t._uU(19," Update "),t.qZA(),t.TgZ(20,"button",16),t.NdJ("click",function(){return o.openDialog()}),t._uU(21," Preview "),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.Q6J("formGroup",o.editorForm),t.xp6(5),t.Q6J("src",o.imageSrc||"/assets/images/avatar.svg",t.LSH),t.xp6(10),t.Q6J("ngModel",o.editorValue)("fullPage",!1))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,C.lW,Z.Hw,f.u],styles:["","*[_ngcontent-%COMP%]{margin:0;padding:0;height:auto;background-color:#f9f4f0}.editor_class[_ngcontent-%COMP%]{height:100%}.input[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}input[_ngcontent-%COMP%]{width:100%}.editor-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:50%;margin:0 auto}.iframe[_ngcontent-%COMP%]{width:100%;height:auto}input[type=text][_ngcontent-%COMP%]{width:100%;border:2px solid #aaa;border-radius:4px;margin:20px auto;display:flex;justify-content:center;width:80%;outline:none;padding:8px;box-sizing:border-box;transition:.3s}input[type=text][_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}#description[_ngcontent-%COMP%]{border:2px solid #aaa;border-radius:4px;padding:2px;display:flex;justify-content:center;width:80%;outline:none;transition:.3s;margin:0 auto}#description[_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}.thumbnailImage[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preview-image[_ngcontent-%COMP%]{width:80%;height:305px;margin:0 auto}#image[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:100%}input[type=file][_ngcontent-%COMP%]{display:none}.uploadFile[_ngcontent-%COMP%]{display:flex;justify-content:center;width:29%;margin:9px auto}.color-white[_ngcontent-%COMP%]{background-color:#3f51b5}.editor-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.error-class[_ngcontent-%COMP%]{border:1px solid red!important}.error-class[_ngcontent-%COMP%]{animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;transform:translate(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px;border:1px solid red!important}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}"]}),n})(),U=(()=>{class n{constructor(e,o,l,a,d,_,x){this.modalService=o,this._fb=l,this.dialog=a,this.renderer=d,this.dataService=_,this.activatedRouter=x,this.htmlContent="",this.editorValue="",this.contentLoaded=!1,this.baseUrl=u.N.baseUrl,this.editorForm=this._fb.group({title:["",[r.kI.required]],description:["",r.kI.required],content:["",[r.kI.required]]})}ngOnInit(){this.id=this.activatedRouter.snapshot.paramMap.get("id"),this.activatedRouter.paramMap.subscribe(e=>{this.id=e.get("id"),console.log("id...",this.id)}),this.dataService.getDraftById(this.id).subscribe(e=>{console.log("res data..",e),this.data=e.data,this.editorForm.controls.title.patchValue(e.data.title),this.editorForm.controls.description.patchValue(e.data.description),this.editorValue=e.data.content,this.imageSrc=u.N.baseUrl+"/"+this.data.image})}saveEditor(){if(console.log("this.file",this.file),this.file){const e=new FormData;e.append("title",this.title),e.append("content",this.content),e.append("image",this.file),e.append("description",this.description),this.editorForm.valid&&this.dataService.updateDraft(e,this.id).subscribe(o=>{g().fire(`${o.message}!`,"Draft Saved SuccessFully","success"),console.log("res value saved",o),this.resetDraft()})}else{let e={title:this.title,content:this.content,image:this.data.image,description:this.description};this.editorForm.valid&&this.dataService.updateDraft(e,this.id).subscribe(o=>{g().fire(`${o.message}!`,"Draft Saved SuccessFully","success"),console.log("res value saved",o),this.resetDraft()})}}publish(){this.dataService.publishDraft(this.id).subscribe(e=>{})}get title(){return this.editorForm.value.title}get content(){return this.editorForm.value.content}get description(){return this.editorForm.value.description}open(e){this.modalService.open(e)}resetDraft(){this.editorForm.reset(),this.file=void 0,this.imageSrc=void 0}openDialog(){this.dialog.open(b.au,{width:"100%",height:"auto",data:{title:this.title,content:this.content,thumbnailImage:this.imageSrc}}).afterClosed().subscribe(o=>{console.log("The dialog was closed")})}handleInputFile(e){console.log("file..")}uploadFile(e){let l=e.currentTarget.files;if(l){this.file=l[0];const a=new FileReader;a.onload=d=>this.imageSrc=a.result,a.readAsDataURL(this.file),console.log("FileUpload -> files",l)}}fireEvent(){let e=!1;return g().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>o.isConfirmed?(console.log("isConfirmed...!"),e=!0,e):(e=!1,!1)),e}canExit(){return!this.editorForm.dirty||!!confirm("Are you sure you want to leave")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.NM),t.Y36(p.FF),t.Y36(r.qu),t.Y36(v.uw),t.Y36(t.Qsj),t.Y36(h.D),t.Y36(c.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editdraft"]],decls:24,vars:4,consts:[[1,"editor_class"],[3,"formGroup"],["type","text","placeholder","Title","formControlName","title"],["formControlName","description","id","description","cols","30","rows","5","placeholder","Write Short description in 50 words.."],[1,"thumbnailImage","mt-2"],[1,"preview-image"],["id","image",3,"src"],["normal",""],["type","file","name","","accept","image/*","id","",3,"change"],["file","","normal",""],["mat-raised-button","","color","primary",1,"uploadFile",3,"click"],["inline","true",1,"color-white"],[1,"ck-editor-div","mb-4"],["formControlName","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","ngModelChange"],[1,"editor-buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"form",1),t._UZ(2,"input",2),t._UZ(3,"textarea",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6,7),t.qZA(),t.TgZ(8,"input",8,9),t.NdJ("change",function(d){return o.uploadFile(d)}),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(l),t.MAs(9).click()})("click",function(){return t.CHM(l),t.MAs(7).click()}),t.TgZ(12,"mat-icon",11),t._uU(13,"file_upload"),t.qZA(),t._uU(14," Choos Thumbnail Image "),t.qZA(),t.qZA(),t.TgZ(15,"div",12),t.TgZ(16,"ck-editor",13),t.NdJ("ngModelChange",function(d){return o.editorValue=d}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.TgZ(18,"button",15),t.NdJ("click",function(){return o.saveEditor()}),t._uU(19," Save "),t.qZA(),t.TgZ(20,"button",16),t.NdJ("click",function(){return o.publish()}),t._uU(21," Publish "),t.qZA(),t.TgZ(22,"button",15),t.NdJ("click",function(){return o.openDialog()}),t._uU(23," Preview "),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.Q6J("formGroup",o.editorForm),t.xp6(5),t.Q6J("src",o.imageSrc||"/assets/images/avatar.svg",t.LSH),t.xp6(10),t.Q6J("ngModel",o.editorValue)("fullPage",!1))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,C.lW,Z.Hw,f.u],styles:["","*[_ngcontent-%COMP%]{margin:0;padding:0;height:auto;background-color:#f9f4f0}.editor_class[_ngcontent-%COMP%]{height:100%}.input[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}input[_ngcontent-%COMP%]{width:100%}.editor-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:50%;margin:0 auto}.iframe[_ngcontent-%COMP%]{width:100%;height:auto}input[type=text][_ngcontent-%COMP%]{width:100%;border:2px solid #aaa;border-radius:4px;margin:20px auto;display:flex;justify-content:center;width:80%;outline:none;padding:8px;box-sizing:border-box;transition:.3s}input[type=text][_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}#description[_ngcontent-%COMP%]{border:2px solid #aaa;border-radius:4px;padding:2px;display:flex;justify-content:center;width:80%;outline:none;transition:.3s;margin:0 auto}#description[_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}.thumbnailImage[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preview-image[_ngcontent-%COMP%]{width:80%;height:305px;margin:0 auto}#image[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:100%}input[type=file][_ngcontent-%COMP%]{display:none}.uploadFile[_ngcontent-%COMP%]{display:flex;justify-content:center;width:29%;margin:9px auto}.color-white[_ngcontent-%COMP%]{background-color:#3f51b5}.editor-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.error-class[_ngcontent-%COMP%]{border:1px solid red!important}.error-class[_ngcontent-%COMP%]{animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;transform:translate(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px;border:1px solid red!important}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}"]}),n})();var I=s(1550);let Y=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}navigateToLogin(){this.router.navigate(["/auth/login"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-landing"]],decls:16,vars:0,consts:[[1,"landing-page-color"],[1,"row","container","mx-auto"],[1,"col-md-6","col-sm-12","col-xs-12"],[1,"main-text"],[1,"hero-text-h1"],[1,"below-hero-text-p"],[1,"landing-get-started-button",3,"click"],[1,"col-md-6","col-sm-12","col-xs-12","d-none","d-md-block","d-lg-none","d-lg-block","d-xl-none","d-xl-block","second-div"],[1,"langing-image"],["src","/assets/images/landing-leftsideimage.png","alt",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h1",4),t._uU(5," Publishing Platform for Professional bloggers "),t.qZA(),t.TgZ(6,"p",5),t._uU(7," Create Beautiful,independent online publication by writing faster and better than you ever have before "),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.navigateToLogin()}),t._uU(9," Get Started "),t.TgZ(10,"span"),t._uU(11,"--"),t.qZA(),t._uU(12,"it's Free "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",7),t.TgZ(14,"div",8),t._UZ(15,"img",9),t.qZA(),t.qZA(),t.qZA(),t.qZA())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:90vh;object-fit:contain;padding:30px}.landing-page-color[_ngcontent-%COMP%]{height:83vh;display:flex}.landing-image[_ngcontent-%COMP%]{padding-top:30px}.hero-text-h1[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;word-break:break-word;font-size:35px;line-height:46px;font-weight:700;margin:0;height:auto;padding:48px 15px 6px}.below-hero-text-p[_ngcontent-%COMP%]{letter-spacing:2px;word-break:break-word;font-size:18px;font-weight:300;line-height:29px;height:auto;margin-top:2px;padding:0 8px}.landing-get-started-button[_ngcontent-%COMP%]{background-color:#d85c51;height:42px;font-size:17px;padding:11px;color:#fff;border:4px;border-radius:5px;display:flex;justify-content:center;align-items:center;margin:0 auto;letter-spacing:1px;line-height:21px}.main-text[_ngcontent-%COMP%]{position:absolute;top:20%}@media only screen and (max-width: 872px){.second-div[_ngcontent-%COMP%]{display:none}}"]}),n})();var y=s(9075),T=s(1459);const q=function(){return{display:"flex","justify-content":"center",margin:"0 auto",width:"50%",height:"40px","margin-bottom":"26px"}};function N(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",9),2&n&&t.Q6J("theme",t.DdM(1,q))}function S(n,i){if(1&n&&(t.TgZ(0,"h1",10),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null==e.data?null:e.data.title," ")}}const L=function(){return{width:"100%",height:"230px",margin:"0 auto",display:"flex","justify-content":"center","border-radius":"21px"}};function R(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",11),2&n&&t.Q6J("theme",t.DdM(1,L))}function D(n,i){if(1&n&&t._UZ(0,"img",12),2&n){const e=t.oxw();t.s9C("src",null==e.data?null:e.data.image,t.LSH)}}const Q=function(){return{width:"50%",margin:"0 auto",display:"flex","justify-content":"center","margin-bottom":"15px"}};function B(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",13),2&n&&t.Q6J("theme",t.DdM(1,Q))}function j(n,i){if(1&n&&(t.TgZ(0,"div",14),t._UZ(1,"div",15),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.sanitizer.bypassSecurityTrustHtml(null==e.data?null:e.data.content),t.oJD)}}let E=(()=>{class n{constructor(e,o,l){this.activatedRouter=e,this.dataService=o,this.sanitizer=l,this.contentLoaded=!1}ngOnInit(){this.id=this.activatedRouter.snapshot.paramMap.get("id"),this.activatedRouter.paramMap.subscribe(e=>{this.id=e.get("id"),console.log("id...",this.id)}),this.dataService.getSingleBlog(this.id).subscribe(e=>{console.log("res data..",e),this.data=e.data,this.data.image=u.N.baseUrl+"/"+this.data.image,this.contentLoaded=!0,console.log("the value of data",this.data)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.gz),t.Y36(h.D),t.Y36(y.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-read-single-blog"]],decls:9,vars:6,consts:[[1,"container","mt-5"],[3,"theme",4,"ngIf"],["class","d-flex justify-content-center text-capitalize fw-bold fs-1","id","title",4,"ngIf"],[1,"thumbnailImage"],["appearance","circle",3,"theme",4,"ngIf"],["alt","thumnailimage",3,"src",4,"ngIf"],[1,"mt-4"],["count","5",3,"theme",4,"ngIf"],["class","mainContent",4,"ngIf"],[3,"theme"],["id","title",1,"d-flex","justify-content-center","text-capitalize","fw-bold","fs-1"],["appearance","circle",3,"theme"],["alt","thumnailimage",3,"src"],["count","5",3,"theme"],[1,"mainContent"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,N,1,2,"ngx-skeleton-loader",1),t.YNc(2,S,2,1,"h1",2),t.TgZ(3,"div",3),t.YNc(4,R,1,2,"ngx-skeleton-loader",4),t.YNc(5,D,1,1,"img",5),t.qZA(),t._UZ(6,"div",6),t.YNc(7,B,1,2,"ngx-skeleton-loader",7),t.YNc(8,j,2,1,"div",8),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded),t.xp6(2),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded),t.xp6(2),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded))},directives:[m.O5,T.xr],styles:[".thumbnailImage[_ngcontent-%COMP%]{height:50%;width:50%;margin:0 auto}img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain}#title[_ngcontent-%COMP%]{word-break:break-word;width:50%;margin:0 auto 20px;font-weight:900;font-size:23px;line-height:35px}.mainContent[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 auto;word-break:break-word;width:60%;text-align:center;align-items:center;line-height:2}"]}),n})();var z=s(1289),H=s(2458);const k=function(){return{width:"20px",height:"20px"}};function V(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",16),2&n&&t.Q6J("theme",t.DdM(1,k))}function W(n,i){1&n&&t._UZ(0,"img",17)}function G(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",18)}function $(n,i){1&n&&(t.TgZ(0,"h4",18),t._uU(1,"Priyesh Pandey"),t.qZA())}function X(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader")}function K(n,i){1&n&&(t.TgZ(0,"h1"),t._uU(1," Lorem ipsum dolor sit amet consectetur adipisicing elit. "),t.qZA())}function tt(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader")}function et(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader")}function nt(n,i){1&n&&(t.TgZ(0,"p"),t._uU(1," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Esse rerum possimus pariatur, illum animi illo mollitia "),t.qZA())}const ot=function(){return{width:"88%",height:"100%","border-radius":"29px",display:"flex","justify-content":"centre",margin:"0 auto"}};function it(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",16),2&n&&t.Q6J("theme",t.DdM(1,ot))}function at(n,i){1&n&&t._UZ(0,"img",19)}function rt(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"div",8),t.YNc(6,V,1,2,"ngx-skeleton-loader",9),t.YNc(7,W,1,0,"img",10),t.qZA(),t.YNc(8,G,1,0,"ngx-skeleton-loader",11),t.YNc(9,$,2,0,"h4",11),t.qZA(),t.qZA(),t.TgZ(10,"div",12),t.YNc(11,X,1,0,"ngx-skeleton-loader",1),t.YNc(12,K,2,0,"h1",1),t.qZA(),t.TgZ(13,"div",13),t.YNc(14,tt,1,0,"ngx-skeleton-loader",1),t.YNc(15,et,1,0,"ngx-skeleton-loader",1),t.YNc(16,nt,2,0,"p",1),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.YNc(18,it,1,2,"ngx-skeleton-loader",9),t.YNc(19,at,1,0,"img",15),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",!e.contentLoaded),t.xp6(1),t.Q6J("ngIf",e.contentLoaded),t.xp6(1),t.Q6J("ngIf",!e.contentLoaded),t.xp6(1),t.Q6J("ngIf",e.contentLoaded),t.xp6(2),t.Q6J("ngIf",!e.contentLoaded),t.xp6(1),t.Q6J("ngIf",e.contentLoaded),t.xp6(2),t.Q6J("ngIf",!e.contentLoaded),t.xp6(1),t.Q6J("ngIf",!e.contentLoaded),t.xp6(1),t.Q6J("ngIf",e.contentLoaded),t.xp6(2),t.Q6J("ngIf",!e.contentLoaded),t.xp6(1),t.Q6J("ngIf",e.contentLoaded)}}function lt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,rt,20,11,"div",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.counter(5))}}function st(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",16),2&n&&t.Q6J("theme",t.DdM(1,k))}function dt(n,i){1&n&&t._UZ(0,"img",25)}function ct(n,i){if(1&n&&t._UZ(0,"img",26),2&n){const e=t.oxw().$implicit,o=t.oxw();t.hYB("src","",o.baseUrl,"/",e.user.image,"",t.LSH)}}function gt(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",18)}function pt(n,i){if(1&n&&(t.TgZ(0,"h4",18),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.user?null:e.user.name," ")}}function ut(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader")}function mt(n,i){if(1&n&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function ft(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader")}function ht(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader")}function _t(n,i){if(1&n&&t._UZ(0,"div",27),2&n){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("innerHTML",o.sanitizer.bypassSecurityTrustHtml(null==e?null:e.description),t.oJD)}}const xt=function(){return{width:"40%",height:"100%","border-radius":"29px","margin-left":"12%"}};function bt(n,i){1&n&&t._UZ(0,"ngx-skeleton-loader",16),2&n&&t.Q6J("theme",t.DdM(1,xt))}function vt(n,i){if(1&n&&t._UZ(0,"img",26),2&n){const e=t.oxw().$implicit;t.s9C("src",e.image,t.LSH)}}const Ct=function(n){return["/read",n]};function Zt(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"a",20),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.TgZ(4,"div",6),t.TgZ(5,"div",7),t.TgZ(6,"div",8),t.YNc(7,st,1,2,"ngx-skeleton-loader",9),t.YNc(8,dt,1,0,"img",21),t.YNc(9,ct,1,2,"img",22),t.qZA(),t.YNc(10,gt,1,0,"ngx-skeleton-loader",11),t.YNc(11,pt,2,1,"h4",11),t.qZA(),t.qZA(),t.TgZ(12,"div",12),t.YNc(13,ut,1,0,"ngx-skeleton-loader",1),t.YNc(14,mt,2,1,"h1",1),t.qZA(),t.TgZ(15,"div",13),t.YNc(16,ft,1,0,"ngx-skeleton-loader",1),t.YNc(17,ht,1,0,"ngx-skeleton-loader",1),t.YNc(18,_t,1,1,"div",23),t.qZA(),t.TgZ(19,"div",24),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",14),t.YNc(24,bt,1,2,"ngx-skeleton-loader",9),t.YNc(25,vt,1,1,"img",22),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(16,Ct,e._id)),t.xp6(6),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",!e.user.image),t.xp6(1),t.Q6J("ngIf",o.contentLoaded&&e.user.image),t.xp6(1),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded),t.xp6(2),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded),t.xp6(2),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded),t.xp6(3),t.Oqu(t.lcZ(22,14,null==e?null:e.createdAt)),t.xp6(3),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngIf",o.contentLoaded)}}function Tt(n,i){1&n&&(t.TgZ(0,"div",28),t._UZ(1,"img",29),t.qZA())}let Mt=(()=>{class n{constructor(e,o,l){this.router=e,this.dataService=o,this.sanitizer=l,this.contentLoaded=!1,this.title="ngx-skeleton-loader-demo",this.baseUrl=u.N.baseUrl,this.noDataFound=!1}ngOnInit(){this.dataService.getBlogData().pipe((0,z.g)(100)).subscribe(e=>{this.blogDetails=e.data.data,0===this.blogDetails.length&&(this.noDataFound=!0),this.blogDetails.map(o=>{o.image=u.N.baseUrl+"/"+o.image}),console.log("the Blog Data response",this.blogDetails),this.contentLoaded=!0},e=>{this.contentLoaded=!0,this.noDataFound=!0})}counter(e){return new Array(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0),t.Y36(h.D),t.Y36(y.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-readblog"]],decls:4,vars:3,consts:[[1,"read-blog-page"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","no-data-found",4,"ngIf"],["matRipple","",1,"content"],[1,"left-div"],[1,"writer-info-container"],[1,"info"],[1,"profile-image"],["appearance","circle",3,"theme",4,"ngIf"],["src","/assets/images/secure_login.svg","alt","",4,"ngIf"],["class","writer-name",4,"ngIf"],[1,"blog-title"],[1,"blog-content"],[1,"right-div"],["src","/assets/images/loginBg.png","alt","",4,"ngIf"],["appearance","circle",3,"theme"],["src","/assets/images/secure_login.svg","alt",""],[1,"writer-name"],["src","/assets/images/loginBg.png","alt",""],["id","link",3,"routerLink"],["src","/assets/images/avatar.svg","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"date-time"],["src","/assets/images/avatar.svg","alt",""],["alt","",3,"src"],[3,"innerHTML"],[1,"no-data-found"],["src","/assets/images/no-data-found.png","alt","No Blog Found..!"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,lt,2,1,"div",1),t.YNc(2,Zt,26,18,"div",2),t.qZA(),t.YNc(3,Tt,2,0,"div",3)),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.contentLoaded),t.xp6(1),t.Q6J("ngForOf",o.blogDetails),t.xp6(1),t.Q6J("ngIf",o.noDataFound))},directives:[m.O5,m.sg,H.wG,T.xr,c.yS],pipes:[m.uU],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.read-blog-page[_ngcontent-%COMP%]{margin-top:30px}.content[_ngcontent-%COMP%]{width:65%;margin:0 auto 30px;height:auto;display:flex;justify-content:space-between;padding:9px;flex:1 1 auto;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;border-radius:9px}.content[_ngcontent-%COMP%]:hover{box-shadow:0 20px 40px #fa0d0d66}.writer-info-container[_ngcontent-%COMP%]{padding-bottom:8px}.info[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.profile-image[_ngcontent-%COMP%]{height:20px;width:20px;border-radius:50%}.writer-name[_ngcontent-%COMP%]{margin:0 0 0 5px}.left-div[_ngcontent-%COMP%]{width:60%;height:100%;margin-right:20px}.left-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{word-break:break-word}.left-div[_ngcontent-%COMP%]   p1[_ngcontent-%COMP%]{word-break:break-word}.right-div[_ngcontent-%COMP%]{width:40%;height:180px;object-fit:contain}img[_ngcontent-%COMP%]{object-fit:contain;height:100%;width:100%;border-radius:7px}#link[_ngcontent-%COMP%]{text-decoration:none;color:#000}.date-time[_ngcontent-%COMP%]{position:absolute;bottom:0;margin-bottom:8px;color:#757575}.blog-content[_ngcontent-%COMP%]{color:#757575;line-height:20px;font-size:16px;max-height:40px;overflow:hidden}.blog-title[_ngcontent-%COMP%]{font-size:22px;overflow:hidden;text-overflow:ellipsis;font-weight:700}.no-data-found[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 auto;width:50%}@media only screen and (max-width: 872px){.content[_ngcontent-%COMP%]{width:95%}}"]}),n})();var wt=s(9983);const P=function(n){return{"error-class":n}},kt=[{path:"",redirectTo:"creators",pathMatch:"full"},{path:"",component:I.O,children:[{path:"creators",component:Y},{path:"write",component:(()=>{class n{constructor(e,o,l,a,d,_,x,M){this.activatedRouter=e,this.modalService=l,this._fb=a,this.dialog=d,this.renderer=_,this.dataService=x,this.router=M,this.htmlContent="",this.editorValue="",this.contentLoaded=!1,o.backdrop="static",o.keyboard=!1,this.editorForm=this._fb.group({title:["",[r.kI.required]],description:["",[r.kI.required]],content:["",[r.kI.required]]})}ngOnInit(){}publishBlog(){const e=new FormData;e.append("title",this.title),e.append("content",this.content),e.append("image",this.file),e.append("description",this.description),this.editorForm.valid&&this.dataService.saveBlogData(e).subscribe(o=>{console.log("res value saved",o),this.resetBlog(),g().fire({position:"center",icon:"success",title:"Your Blog Published SuccessFully",showConfirmButton:!1,timer:1500}),this.router.navigate(["/read",o.post._id])}),console.log(this.editorForm.value)}resetBlog(){this.editorForm.reset(),this.file=void 0,this.imageSrc=void 0}saveAsDraft(){console.log("for",this.editorForm.controls);const e=new FormData;e.append("title",this.title),e.append("content",this.content),e.append("image",this.file),e.append("description",this.description),this.editorForm.valid&&this.dataService.saveAsDraft(e).subscribe(o=>{this.resetBlog(),g().fire({position:"center",icon:"success",title:"Saved in Draft  SuccessFully",showConfirmButton:!1,timer:1500}),this.router.navigate(["/profile/draft"])})}get title(){return this.editorForm.value.title}get content(){return this.editorForm.value.content}get description(){return this.editorForm.value.description}open(e){this.modalService.open(e)}openDialog(){this.dialog.open(b.au,{width:"100%",height:"auto",data:{title:this.title,content:this.content,thumbnailImage:this.imageSrc}}).afterClosed().subscribe(o=>{console.log("The dialog was closed")})}handleInputFile(e){console.log("file..")}uploadFile(e){let l=e.currentTarget.files;if(l){this.file=l[0];const a=new FileReader;a.onload=d=>this.imageSrc=a.result,a.readAsDataURL(this.file)}}fireEvent(){let e=!1;return g().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>o.isConfirmed?(console.log("isConfirmed...!"),e=!0,e):(e=!1,!1)),e}canExit(){return null===this.title&&null===this.description||!(this.title.length>0||this.description.length>0||this.content.length>0)||!!confirm("Are you sure you want to leave? All the Changes will be discarded")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.gz),t.Y36(p.NM),t.Y36(p.FF),t.Y36(r.qu),t.Y36(v.uw),t.Y36(t.Qsj),t.Y36(h.D),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-writeblog"]],features:[t._Bn([p.NM,p.FF])],decls:26,vars:10,consts:[[1,"editor_class"],[3,"formGroup"],["type","text","placeholder","Title","formControlName","title",3,"ngClass"],["matInput","","formControlName","description","id","description","cols","30","rows","3","placeholder","Write Short description in less then 50 words..",3,"ngClass"],[1,"thumbnailImage","mt-2"],[1,"preview-image"],["id","image",3,"src"],["normal",""],["type","file","name","","accept","image/*","id","",3,"change"],["file","","normal",""],["mat-raised-button","","color","primary",1,"uploadFile",3,"click"],["inline","true",1,"color-white"],[1,"ck-editor-div","mb-4"],["formControlName","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","ngModelChange"],[1,"editor-buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"form",1),t._UZ(2,"input",2),t._UZ(3,"textarea",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6,7),t.qZA(),t.TgZ(8,"input",8,9),t.NdJ("change",function(d){return o.uploadFile(d)}),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(l),t.MAs(9).click()})("click",function(){return t.CHM(l),t.MAs(7).click()}),t.TgZ(12,"mat-icon",11),t._uU(13,"file_upload"),t.qZA(),t._uU(14," Choose Thumbnail Image "),t.qZA(),t.qZA(),t.TgZ(15,"div",12),t.TgZ(16,"ck-editor",13),t.NdJ("ngModelChange",function(d){return o.editorValue=d}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.TgZ(18,"button",15),t.NdJ("click",function(){return o.saveAsDraft()}),t._uU(19," Save As Draft "),t.qZA(),t.TgZ(20,"button",16),t.NdJ("click",function(){return o.resetBlog()}),t._uU(21,"Reset"),t.qZA(),t.TgZ(22,"button",17),t.NdJ("click",function(){return o.publishBlog()}),t._uU(23," Publish "),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){return o.openDialog()}),t._uU(25," Preview "),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.Q6J("formGroup",o.editorForm),t.xp6(1),t.Q6J("ngClass",t.VKq(6,P,o.editorForm.controls.title.touched&&(null==o.editorForm.controls.title||null==o.editorForm.controls.title.errors?null:o.editorForm.controls.title.errors.required))),t.xp6(1),t.Q6J("ngClass",t.VKq(8,P,o.editorForm.controls.description.touched&&(null==o.editorForm.controls.description||null==o.editorForm.controls.description.errors?null:o.editorForm.controls.description.errors.required))),t.xp6(3),t.Q6J("src",o.imageSrc||"/assets/images/avatar.svg",t.LSH),t.xp6(10),t.Q6J("ngModel",o.editorValue)("fullPage",!1))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.mk,wt.Nt,C.lW,Z.Hw,f.u],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;height:auto;background-color:#f9f4f0}.editor_class[_ngcontent-%COMP%]{height:100%}.input[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}input[_ngcontent-%COMP%]{width:100%}.editor-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:50%;margin:0 auto}.iframe[_ngcontent-%COMP%]{width:100%;height:auto}input[type=text][_ngcontent-%COMP%]{width:100%;border:2px solid #aaa;border-radius:4px;margin:20px auto;display:flex;justify-content:center;width:80%;outline:none;padding:8px;box-sizing:border-box;transition:.3s}input[type=text][_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}#description[_ngcontent-%COMP%]{border:2px solid #aaa;border-radius:4px;padding:2px;display:flex;justify-content:center;width:80%;outline:none;transition:.3s;margin:0 auto}#description[_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}.thumbnailImage[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preview-image[_ngcontent-%COMP%]{width:80%;height:305px;margin:0 auto}#image[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:100%}input[type=file][_ngcontent-%COMP%]{display:none}.uploadFile[_ngcontent-%COMP%]{display:flex;justify-content:center;width:29%;margin:9px auto}.color-white[_ngcontent-%COMP%]{background-color:#3f51b5}.editor-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.error-class[_ngcontent-%COMP%]{border:1px solid red!important}.error-class[_ngcontent-%COMP%]{animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;transform:translate(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px;border:1px solid red!important}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}"]}),n})(),canActivate:[A.a],canDeactivate:[F.l]},{path:"read",component:Mt},{path:"read/:id",component:E},{path:"edit/:id",component:J},{path:"edit-draft/:id",component:U}]}];let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.Bz.forChild(kt)],c.Bz,f.d]}),n})();var At=s(8531),Ft=s(1841),Ot=s(1679),Jt=s(3242);let Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[m.ez,Pt,r.u5,r.UX,f.d,At.q,Ft.JF,Ot.ii,T.hx,Jt.T]]}),n})()}}]);